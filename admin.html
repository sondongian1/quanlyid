<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Qu·∫£n l√Ω ID</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2>üîß Qu·∫£n l√Ω danh s√°ch ID truy c·∫≠p</h2>
  <div>
    <input type="text" id="idInput" placeholder="Nh·∫≠p ID...">
    <input type="number" id="daysInput" placeholder="S·ªë ng√†y (ho·∫∑c -1)">
    <button onclick="addID()">‚ûï Th√™m</button>
  </div>
  <br>
  <table id="idTable">
    <thead><tr><th>ID</th><th>Ng√†y</th><th>Xo√°</th></tr></thead>
    <tbody></tbody>
  </table>
  <br>
  <button onclick="download()">üíæ T·∫£i v·ªÅ ids.json</button>

  <script>
    let idList = [];

    function renderTable() {
      const tbody = document.querySelector("#idTable tbody");
      tbody.innerHTML = "";
      idList.forEach((item, i) => {
        const row = document.createElement("tr");
        row.innerHTML = `<td>${item.id}</td><td>${item.days}</td>
        <td><button onclick="removeID(${i})">‚ùå</button></td>`;
        tbody.appendChild(row);
      });
    }

    function addID() {
      const id = document.getElementById("idInput").value.trim();
      const days = parseInt(document.getElementById("daysInput").value);
      if (id && !isNaN(days)) {
        idList.push({ id, days });
        renderTable();
      }
    }

    function removeID(index) {
      idList.splice(index, 1);
      renderTable();
    }

    function download() {
      const data = {
        users: idList,
        updated_at: new Date().toISOString().split("T")[0]
      };
      const blob = new Blob([JSON.stringify(data, null, 2)], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "ids.json";
      a.click();
    }
  </script>
</body>
</html>
